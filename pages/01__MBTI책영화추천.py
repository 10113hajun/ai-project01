import streamlit as st

st.set_page_config(page_title="MBTI 추천기 🍿📚", page_icon="✨")

MBTI_LIST = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ",
]

RECOMMENDATIONS = {
    "ISTJ": {
        "books": [
            ("성공하는 사람들의 7가지 습관", "Stephen R. Covey", "실용적이고 체계적인 습관을 다루어 안정적인 성취에 도움을 줘요. 📈"),
            ("미움받을 용기", "기시미 이치로·고가 후미타케", "자기 책임과 내적 원칙을 다시 생각하게 해주는 책이에요. 💡"),
        ],
        "movies": [
            ("인턴", "The Intern (2015)", "일과 책임을 성실히 해내는 모습이 공감돼요. 👔"),
            ("설국열차", "Snowpiercer (2013)", "질서와 시스템, 책임의 무게를 생각하게 하는 영화. 🚆"),
        ],
    },
    "ISFJ": {
        "books": [
            ("어린 왕자", "생텍쥐페리", "따뜻한 인간애와 섬세한 감성을 건드리는 고전이에요. 🌟"),
            ("완득이", "김려령", "타인을 세심히 배려하는 마음을 공감하게 하는 소설. 🤝"),
        ],
        "movies": [
            ("리틀 포레스트", "Little Forest (2018)", "일상 속 소소한 보살핌과 안정감을 느낄 수 있어요. 🌱"),
            ("완벽한 타인", "Intimate Strangers (2018)", "사람과 관계에 대한 따뜻한 시선을 줘요. 👫"),
        ],
    },
    "INFJ": {
        "books": [
            ("연금술사", "파울로 코엘료", "자기 탐색과 의미를 찾는 여정에 잘 맞아요. ✨"),
            ("밤의 여행자들", "이승우", "내면을 들여다보는 섬세한 문장이 좋아요. 🌙"),
        ],
        "movies": [
            ("이터널 선샤인", "Eternal Sunshine of the Spotless Mind (2004)", "감정의 깊이와 기억을 탐구하는 작품이에요. 🧠💔"),
            ("건축학개론", "Architecture 101 (2012)", "추억과 감성의 결을 섬세하게 그려요. 🏫"),
        ],
    },
    "INTJ": {
        "books": [
            ("총, 균, 쇠", "재레드 다이아몬드", "복잡한 인과와 구조를 이해하는 데 도움을 줘요. 🧩"),
            ("생각에 관한 생각", "대니얼 카너먼", "논리적 사고와 판단을 점검하게 하는 고전. 🧠"),
        ],
        "movies": [
            ("인셉션", "Inception (2010)", "복잡한 구조와 목표 지향적 플롯이 매력적이에요. 🌀"),
            ("소셜 네트워크", "The Social Network (2010)", "전략과 목표 달성의 드라마를 보여줘요. 💻"),
        ],
    },
    "ISTP": {
        "books": [
            ("제5도살장", "커트 보니것", "엉뚱한 상황에서도 실용적 통찰을 얻을 수 있어요. 🔧"),
            ("다크 투어리스트", "윌리엄 래일리", "모험적이고 현실적인 호기심을 자극해요. 🧭"),
        ],
        "movies": [
            ("매드 맥스: 분노의 도로", "Mad Max: Fury Road (2015)", "액션과 즉흥적인 문제 해결이 멋져요. 🏍️"),
            ("히든 피겨스", "Hidden Figures (2016)", "실무적 능력과 기술적 해결을 보는 재미가 있어요. 🚀"),
        ],
    },
    "ISFP": {
        "books": [
            ("모모", "미하엘 엔데", "감성을 자극하고 현재를 소중히 여기게 해요. 🎨"),
            ("그릿", "앤절라 더크워스", "열정과 끈기에 관한 따뜻한 통찰을 줘요. 🌱"),
        ],
        "movies": [
            ("비포 선라이즈", "Before Sunrise (1995)", "순수한 감정과 순간의 아름다움을 담아요. 🌅"),
            ("라라랜드", "La La Land (2016)", "감성적 예술혼과 자유로운 표현을 응원해요. 🎶"),
        ],
    },
    "INFP": {
        "books": [
            ("자기만의 방", "버지니아 울프", "내면의 목소리와 창의성을 자극해요. 🪄"),
            ("노르웨이의 숲", "무라카미 하루키", "감성적 공감과 자기 탐색에 잘 맞아요. 🌲"),
        ],
        "movies": [
            ("아멜리에", "Amélie (2001)", "상상력과 작은 친절이 마음을 따뜻하게 해요. 🧁"),
            ("이터널 선샤인", "Eternal Sunshine (2004)", "감정의 복잡함을 예술적으로 그려요. 💭"),
        ],
    },
    "INTP": {
        "books": [
            ("호모 데우스", "유발 하라리", "넓은 개념적 통찰을 좋아하는 분께 추천해요. 📚"),
            ("코스모스", "칼 세이건", "지적 호기심과 우주적 관점을 자극해요. ✨"),
        ],
        "movies": [
            ("폰부스", "Phone Booth (2002)", "논리적 딜레마와 심리전을 즐길 수 있어요. ☎️"),
            ("프라이머", "Primer (2004)", "복잡한 아이디어와 퍼즐을 좋아한다면 굿. ⏱️"),
        ],
    },
    "ESTP": {
        "books": [
            ("한강: 현자의 말", "한강 (편집서적)", "직설적이고 행동 지향적인 이야기를 좋아한다면. ⚡"),
            ("린 인", "셰릴 샌드버그", "실전적 리더십과 행동 지향적 조언이 있어요. 💼"),
        ],
        "movies": [
            ("다이하드", "Die Hard (1988)", "즉흥적 해결과 액션이 손에 땀을 쥐게 해요. 🔫"),
            ("본 아이덴티티", "The Bourne Identity (2002)", "빠른 판단과 기민함이 매력적이에요. 🕵️"),
        ],
    },
    "ESFP": {
        "books": [
            ("먹고 기도하고 사랑하라", "엘리자베스 길버트", "모험적이고 감성적인 삶을 즐기는 분께. 🌺"),
            ("쇼핑 중독자의 행복", "이지성", "감각적 즐거움과 삶의 기쁨을 다룹니다. 🛍️"),
        ],
        "movies": [
            ("어바웃 타임", "About Time (2013)", "따뜻하고 감성적인 순간을 즐길 수 있어요. ⏳"),
            ("이터널 선샤인", "Eternal Sunshine (2004)", "감정의 파고를 아름답게 표현해요. 💙"),
        ],
    },
    "ENFP": {
        "books": [
            ("브루클린", "콜름 토이빈", "새로운 시작과 감성적 성장을 다뤄요. 🕊️"),
            ("아이디어 천국", "스티브 잡스 전기 요약서", "창의적 영감을 자극하는 읽을거리. 💡"),
        ],
        "movies": [
            ("월터의 상상은 현실이 된다", "The Secret Life of Walter Mitty (2013)", "상상력과 모험을 자극해요. 🌍"),
            ("스쿨 오브 락", "School of Rock (2003)", "열정적이고 즐거운 에너지가 가득해요. 🎸"),
        ],
    },
    "ENTP": {
        "books": [
            ("제대로 논쟁하는 법", "로버트 그린", "토론과 기발한 아이디어를 즐기는 분께. 🧠"),
            ("리인벤트 유어셀프", "스티브 챈들러", "창의적 문제 해결법을 담고 있어요. 🔁"),
        ],
        "movies": [
            ("셜록 홈즈", "Sherlock Holmes (2009)", "기지와 재치, 빠른 사고가 두드러져요. 🕵️‍♂️"),
            ("아이언맨", "Iron Man (2008)", "논리와 기발한 발명 정신을 즐길 수 있어요. 🤖"),
        ],
    },
    "ESTJ": {
        "books": [
            ("팀장의 조건", "유수연", "조직과 리더십에 관한 실전 지침이 있어요. 📋"),
            ("원칙", "레이 달리오", "규칙과 원칙으로 일하는 것을 선호하는 분께. ⚖️"),
        ],
        "movies": [
            ("12인의 성난 사람들", "12 Angry Men (1957)", "논리와 절차, 공정성을 다루는 드라마. ⚖️"),
            ("머니볼", "Moneyball (2011)", "데이터와 전략으로 목표를 달성하는 이야기. ⚾"),
        ],
    },
    "ESFJ": {
        "books": [
            ("행복은 습관이다", "Shawn Achor 번역본", "사람과 관계에 긍정적 영향을 주는 팁이 많아요. 😊"),
            ("사람을 얻는 기술", "데일 카네기", "대인관계에서 실용적으로 쓸 수 있어요. 🤝"),
        ],
        "movies": [
            ("라라랜드", "La La Land (2016)", "감성적 연결과 사람 사이의 이야기를 좋아해요. 🎶"),
            ("기적", "Miracle in Cell No.7 (2013)", "사람과 따뜻한 감정에 울림을 주는 영화. 💖"),
        ],
    },
    "ENFJ": {
        "books": [
            ("리더십의 조건", "필립 코틀러 요약", "사람을 이끌고 동기를 부여하는 데 도움돼요. 🌟"),
            ("사람을 얻는 기술", "데일 카네기", "공감과 대화를 실전에서 쓰기 좋아요. 🗣️"),
        ],
        "movies": [
            ("쉰들러 리스트", "Schindler's List (1993)", "강력한 리더십과 윤리적 선택을 생각하게 해요. 🕊️"),
            ("언터처블: 1%의 우정", "The Intouchables (2011)", "공감과 헌신의 힘을 보여줘요. 🤗"),
        ],
    },
    "ENTJ": {
        "books": [
            ("하버드 비즈니스 리뷰 핵심 경영전략", "편집본", "전략적 사고와 실행에 초점을 맞춘 책이에요. 📊"),
            ("원칙", "레이 달리오", "시스템적이고 효율적인 의사결정 가이드. 🧭"),
        ],
        "movies": [
            ("월 스트리트", "Wall Street (1987)", "권력과 전략, 야망을 다루는 영화. 💼"),
            ("설국열차", "Snowpiercer (2013)", "리더십과 구조의 갈등을 생각하게 해요. 🚆"),
        ],
    },
}

st.title("MBTI별 책·영화 추천기 🎯")
st.write("아래에서 당신의 MBTI를 골라보세요 — 간단한 추천과 이유를 보여드릴게요! 😊")

choice = st.selectbox("당신의 MBTI를 선택하세요", MBTI_LIST)

if st.button("추천 받기 🎁"):
    rec = RECOMMENDATIONS.get(choice)
    if not rec:
        st.info("아직 해당 MBTI에 대한 추천이 준비되지 않았어요. 😅")
    else:
        st.subheader(f"📚 책 추천 — {choice}")
        for i, (title, author, reason) in enumerate(rec["books"], start=1):
            st.markdown(f"**{i}. {title}** — _{author}_  
{reason}")

        st.subheader(f"🎬 영화 추천 — {choice}")
        for i, (title, info, reason) in enumerate(rec["movies"], start=1):
            st.markdown(f"**{i}. {title}** — _{info}_  
{reason}")

        st.write("\n즐거운 감상 되세요! 필요하면 추천을 더 바꿔줄게요. 😄")

st.write("---")
st.caption("※ 추천 도서는 대한민국에서 판매되는 번역본/원서로 구할 수 있는 일반적인 작품들을 중심으로 선정했습니다.")
